######################################################################
# makefile_accident_x64Linux2.6gcc4.4.5#
# (c) Copyright, Real-Time Innovations, 2012.  All rights reserved.
# RTI grants Licensee a license to use, modify, compile, and create
# derivative works of the software solely for use with RTI Connext DDS.
# Licensee may redistribute copies of the software provided that all such
# copies are subject to this license. The software is provided "as is",
# with no warranty of any type, including any warranty for fitness for
# any purpose. RTI is under no obligation to maintain or support the
# software. RTI shall not be liable for any incidental or consequential
# damages arising out of the use or inability to use the software.
#
#
# This makefile was automatically generated by rtiddsgen.
#
#
# Note: This makefile is only meant to build our example applications and
#       may require alterations to build on your system.
#
# This makefile assumes that your build environment is already correctly
# configured. (For example, the correct version of your compiler and
# linker should be on your PATH.)
######################################################################

SOURCE_DIR = source
HEADER_DIR = include

CUR_INCLUDES = $(INCLUDES) -I$(HEADER_DIR)
CUR_COMPILER_FLAGS = $(COMPILER_FLAGS) -fpic

SOURCE_FILES = $(wildcard $(SOURCE_DIR)/*.cxx)
OBJ_FILES = $(addprefix $(OBJ_PATH)/, $(addsuffix .o,$(notdir $(basename $(SOURCE_FILES)))))

TARGET = $(LIB_PATH)/libmessage.so

.PHONY:all clean

all: $(TARGET)

$(TARGET): $(OBJ_FILES)
	@if [ ! -d $(LIB_PATH) ];then mkdir $(LIB_PATH); fi
	$(LINKER) -shared $(LINKER_FLAGS) -o $@ $^ $(LIBS)
	
$(OBJ_PATH)/%.o: $(SOURCE_DIR)/%.cxx
	@if [ ! -d $(OBJ_PATH) ];then mkdir $(OBJ_PATH); fi
	$(COMPILER) $(CUR_COMPILER_FLAGS) -o $@ $(DEFINES) $(CUR_INCLUDES) -c $<

clean:
	rm -rf $(OBJ_PATH) $(TARGET)


